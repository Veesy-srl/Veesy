@model Veesy.Presentation.Model.Account.ProfileViewModel

@{
    ViewData["Title"] = "Profile";
}

<div class="d-flex pt-7rem">
    <div class="col-2 col-sm-12 col-md-3">
        <div class="ps-3">
            <nav class="breadcrumb-container" aria-label="Percorso di navigazione">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><i class="fa-solid fa-house me-2"></i><a class="breadcrumb-a me-2" href="#">dashboard</a><i class="fa-solid fa-chevron-right"></i></li>
                    <li class="breadcrumb-item"><a class="breadcrumb-a" href="#"><strong>portfolio</strong></a></li>
                </ol>
            </nav>
            <div class="w-75 card-white-veesy p-3">
                <div class="d-flex">
                    <div class="col-3">
                        <div class="text-center">
                            <img src="https://images.unsplash.com/photo-1633332755192-727a05c4013d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8dXNlcnxlbnwwfHwwfHx8MA%3D%3D&w=1000&q=80" class="img-thumbnail rounded-circle" alt="user-image">
                        </div>
                    </div>
                    <div class="col-8"><p class="ms-2"><strong>darial0ve!</strong></p></div>
                    <div class="col-1"><div class="text-end"><i class="fa-solid fa-circle fa-2xs" style="color: #202F4D;"></i></div></div>
                </div>
                <h5 class="mt-4 mb-4">Daria Bianchi</h5>
                <div class="d-flex"><p class="mb-0"><strong>Role:&nbsp;</strong></p><p class="mb-0">art director</p></div>
                <div class="d-flex"><p class="mb-0"><strong>Email:&nbsp;</strong></p><p class="mb-0">dariabianchi@gmail.com</p></div>
                <div class="d-flex"><p class="mb-0"><strong>Phone:&nbsp;</strong></p><p class="text-danger mb-0">information missing</p></div>
                <div class="mt-4"><a class="red-link"><i class="fa-regular fa-pen-to-square pe-1"></i><strong>edit basic info</strong></a></div>
            </div>
        </div>
    </div>
    <div class="col-8 col-md-6">
        <h3>Your Profile</h3>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. <a class="grey-link ms-2"><strong>learn more <i class="fa-solid fa-arrow-up-right-from-square"></i></strong></a></p>
        <div class="empty-veesy"></div>
        <h4>General</h4>
        <div class="d-flex">
            <div class="col-sm-12 col-md-6 col-lg-6 me-2">
                <hr class="hr"/>
                <div class="d-flex">
                    <div class="col-9">
                        <p class="mb-0"><strong>Role:</strong></p>
                        <p class="mb-0">Graphic Designer, Illustrator</p>
                    </div>
                    <div class="col-3 text-end"><a class="grey-link"><i class="fa-regular fa-pen-to-square pe-1"></i><strong>edit</strong></a></div>
                </div>
                <hr class="hr"/>
                <div class="d-flex">
                    <div class="col-9">
                        <p class="mb-0"><strong>External link:</strong></p>
                        <p class="mb-0 color-red">Information missing</p>
                    </div>
                    <div class="col-3 text-end"><a class="red-link"><i class="fa-regular fa-pen-to-square pe-1"></i><strong>add info</strong></a></div>
                </div>
                <hr class="hr"/>
            </div>
            <div class="col-sm-12 col-md-6 ms-2">
                <hr class="hr"/>
                <div class="d-flex">
                    <div class="col-9">
                        <p class="mb-0"><strong>Language spoken:</strong></p>
                        <p class="mb-0 color-red">Information missing</p>
                    </div>
                    <div class="col-3 text-end"><a class="red-link"><i class="fa-regular fa-pen-to-square pe-1"></i><strong>add info</strong></a></div>
                </div>
                <hr class="hr"/>
                <div class="d-flex">
                    <div class="col-9">
                        <p class="mb-0"><strong>Show Profile info:</strong></p>
                        <p class="mb-0">lorem ipsum, lorem ipsum</p>
                    </div>
                    <div class="col-3 text-end"><a class="grey-link"><i class="fa-regular fa-pen-to-square pe-1"></i><strong>edit</strong></a></div>
                </div>
                <hr class="hr"/>
            </div>
        </div>
        <div class="empty-veesy"></div>
        <div>
            <h4>Portfolio intro</h4>
            @if (string.IsNullOrEmpty(Model.PortfolioIntro))
            {
                <div class="card-white-dashed-veesy p-3">
                    <p>Write a short info about yourself, try to make it <strong>brief</strong> and <strong>catchy</strong></p>
                    <div class="mt-4"><a onclick="openModal('#modalPortfolioIntro')" class="red-link"><i class="fa-regular fa-pen-to-square pe-1"></i><strong>add portfolio intro</strong></a></div>
                </div>
            }
            else
            {
                <p>@Model.PortfolioIntro</p>
                <a onclick="openModal('#modalPortfolioIntro'), setTextAreaValue('portfolio-intro-text-edit', '@Model.PortfolioIntro')" class="grey-link"><i class="fa-regular fa-pen-to-square pe-1"></i><strong>edit</strong></a>

            }
        </div>
        <div class="empty-veesy"></div>
        <div>
            <h4>Biografy</h4>
            @if (string.IsNullOrEmpty(Model.Biography))
            {
                <div class="card-white-dashed-veesy p-3">
                    <p>Write a bio about yourself, try to make it <strong>synthetic</strong> and <strong>professional</strong></p>
                    <div class="mt-4"><a onclick="openModal('#modalBiography')" class="red-link"><i class="fa-regular fa-pen-to-square pe-1"></i><strong>add bio</strong></a></div>
                </div>
            }
            else
            {
                <p>@Model.Biography</p>
                <a onclick="openModal('#modalBiography'), setTextAreaValue('biography-text-edit', '@Model.Biography')" class="grey-link"><i class="fa-regular fa-pen-to-square pe-1"></i><strong>edit</strong></a>

            }
        </div>
        <div class="empty-veesy"></div>
        <div>
            <h4>Hard Skills</h4>
            <p>Lorem ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries,</p>
            <div class="d-flex">
                <button class="button-white-dashed-veesy">+</button>
                <button class="button-white-dashed-veesy">+</button>
                <button class="button-white-dashed-veesy">+</button>
            </div>
            <div class="mt-2"><a class="red-link"><i class="fa-regular fa-pen-to-square pe-1"></i><strong>add soft skill</strong></a></div>
        </div>
        <div class="empty-veesy"></div>
        <div>
            <h4>Soft Skills</h4>
            <p>Lorem ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries,</p>
            <div class="d-flex">
                <button class="button-white-dashed-veesy">+</button>
                <button class="button-white-dashed-veesy">+</button>
                <button class="button-white-dashed-veesy">+</button>
            </div>
            <div class="mt-2"><a class="red-link"><i class="fa-regular fa-pen-to-square pe-1"></i><strong>add hard skill</strong></a></div>
        </div>
        <div class="empty-veesy"></div>
        <div>
            <h4>Softwares</h4>
            <p>Lorem ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries,</p>
            <div class="d-flex">
                <button class="button-white-dashed-veesy">+</button>
                <button class="button-white-dashed-veesy">+</button>
                <button class="button-white-dashed-veesy">+</button>
            </div>
            <div class="mt-2"><a class="red-link"><i class="fa-regular fa-pen-to-square pe-1"></i><strong>add softwares</strong></a></div>
        </div>
        <div class="empty-veesy"></div>
        <div>
            <h4>Portfolios</h4>
            <p>You don't have any portfolio yet.</p>
            <button class="rounded-pill btn btn-primary">create your first portfolio</button>
        </div>
        <div class="empty-veesy"></div>
    </div>
    <div class="col-2 col-md-3">
        <div class="d-flex justify-content-center">
            <div style="position: fixed">
                <div class="w-125 card-blue-veesy p-3">
                    <div class="text-end"><i class="fa-solid fa-circle fa-2xs" style="color: #ffffff;"></i></div>
                    <p class="mb-0" style="color: white"><strong>Do you need some help?</strong></p>
                    <a class="a-ciano" href="#">Contact us</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="modalBiography" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Biography</h5>
                <a onclick="closeModal('#modalBiography')"><i class="fa-solid fa-circle-xmark"></i></a>
            </div>
            <div class="modal-body">
                <p>Write a bio about yourself, try to make it synthetic and professional</p>
                <textarea id="biography-text-edit" rows="4" class="w-100"></textarea>
                <p class="mb-0"><strong>0 / 400 characters</strong></p>  
            </div>
            <div class="modal-footer">                
                <a onclick="UpdateBiography()" class="rounded-pill btn btn-primary" type="submit">save</a>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalPortfolioIntro" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Portfolio Intro</h5>
                <a onclick="closeModal('#modalPortfolioIntro')"><i class="fa-solid fa-circle-xmark"></i></a>
            </div>
            <div class="modal-body">
                <p>Write a short info about yourself, try to make it brief and catchy</p>
                <textarea id="portfolio-intro-text-edit" rows="4" class="w-100"></textarea>
                <p class="mb-0"><strong>0 / 400 characters</strong></p>  
            </div>
            <div class="modal-footer">                
                <a onclick="UpdatePortfolioIntro()" class="rounded-pill btn btn-primary" type="submit">save</a>
            </div>
        </div>
    </div>
</div>

<script>

//ADD EDIT BIOGRAPHY
function UpdateBiography(){
    $('#load-spinner').css("display", "block");
    var biography = document.getElementById("biography-text-edit").value

    $.ajax({
        type: 'POST',
        url: '/Account/Profile/UpdateBiography',
        data: JSON.stringify(biography),
        contentType: 'application/json; charset=utf-8',
        dataType: 'json',
        success: function (response) {
            if(response.result){
                location.reload()
            }
            $('#load-spinner').css("display", "none");
        },
        error: function (response) {
            $('#load-spinner').css("display", "none");
        }
    })
    $('#load-spinner').css("display", "none");
}

function UpdatePortfolioIntro(){
    $('#load-spinner').css("display", "block");
    var introPortfolio = document.getElementById("portfolio-intro-text-edit").value

    $.ajax({
        type: 'POST',
        url: '/Account/Profile/UpdatePortfolioIntro',
        data: JSON.stringify(introPortfolio),
        contentType: 'application/json; charset=utf-8',
        dataType: 'json',
        success: function (response) {
            if(response.result){
                location.reload()
            }
            $('#load-spinner').css("display", "none");
        },
        error: function (response) {
            $('#load-spinner').css("display", "none");
        }
    })
    $('#load-spinner').css("display", "none");
}
</script>
